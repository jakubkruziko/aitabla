<!DOCTYPE html>
<html>
<head>
  <title>Odjezdová tabule</title>
  <style>
    body {
      background-image: linear-gradient(to bottom, #b2d8d8, #8fd6e1);
    }

    #departure-board {
      font-family: Arial, sans-serif;
      width: 400px;
      margin: 0 auto;
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #ffffff;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <div id="departure-board">
    <h2>Odjezdová tabule</h2>
    <table>
      <thead>
        <tr>
          <th>Čas</th>
          <th>Linka</th>
          <th>Směr</th>
          <th>Druh</th>
        </tr>
      </thead>
      <tbody id="departure-body">
        <!-- Tady budou zobrazena data o odjezdech -->
      </tbody>
    </table>
  </div>

  <script>
    // Funkce pro získání dat z API
    async function fetchData() {
      try {
        const response = await fetch('https://api.golemio.cz/v2/pid/departureboards/?ids=U1274Z1P&total=20');
        const data = await response.json();
        return data;
      } catch (error) {
        console.error('Chyba při načítání dat:', error);
      }
    }

    // Funkce pro vykreslení odjezdové tabule
    async function renderDepartureBoard() {
      const departureBody = document.getElementById('departure-body');
      departureBody.innerHTML = '';

      // Získání dat z API
      const departures = await fetchData();

      // Vykreslení dat do tabule
      departures.forEach((departure) => {
        const row = document.createElement('tr');
        const timeCell = document.createElement('td');
        const lineCell = document.createElement('td');
        const directionCell = document.createElement('td');
        const typeCell = document.createElement('td');

        timeCell.textContent = departure.departure_timestamp.scheduled;
        lineCell.textContent = departure.route_short_name;
        directionCell.textContent = departure.headsign;
        typeCell.textContent = departure.type;

        row.appendChild(timeCell);
        row.appendChild(lineCell);
        row.appendChild(directionCell);
        row.appendChild(typeCell);

        departureBody.appendChild(row);
      });
    }

    // Vyvolání funkce pro vykreslení odjezdové tabule
    renderDepartureBoard();
  </script>
</body>
</html>
